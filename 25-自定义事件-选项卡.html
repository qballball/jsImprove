<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="css/global.css"/>
    <style>
        li{float: left;
            margin-right: 60px;
            text-align: center;
            line-height: 40px; width: 100px;}
        li.active{ border: 1px solid #333;
            background-color: #f00;}
        section{display: none;}
        #txtbox{font-weight: bold;}
    </style>
</head>
<body>
<div id="content">
<h5>click</h5>
<ul class="tab clear">
    <li class="active">标题1</li>
    <li>标题2</li>
    <li>标题3</li>
    <li>标题4</li>
</ul>
<div >
    <section style="display: block;">
        内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1
    </section>
    <section>
        内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2
    </section>
    <section>
        内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3
    </section>
    <section>
        内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4
    </section>

</div>
</div>


<div id="content2">
    <h5>hover</h5>
    <ul class="tab clear">
        <li class="active">标题1</li>
        <li>标题2</li>
        <li>标题3</li>
        <li>标题4</li>
    </ul>
    <div >
        <section style="display: block;">
            内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1
        </section>
        <section>
            内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2
        </section>
        <section>
            内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3
        </section>
        <section>
            内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4
        </section>

    </div>
</div>

<div id="content3">
    <h5>延迟菜单</h5>
    <ul class="tab clear">
        <li class="active">标题1</li>
        <li>标题2</li>
        <li>标题3</li>
        <li>标题4</li>
    </ul>
    <div >
        <section style="display: block;">
            内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1
        </section>
        <section>
            内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2
        </section>
        <section>
            内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3内容3
        </section>
        <section>
            内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4内容4
        </section>

    </div>
</div>
<div id="txtbox">示例内容。</div>
<script src="js/jquery.js"></script>
<script>
    $(function () {
        /**
         * title : 基于jq的选项卡
         * options: event
         * methods: nowSel
         * event: beforeClick afterClick
         */
        var t1=new Tab('content',{});
        var t2=new Tab('content2',{event:'mouseover'});
        var t3=new Tab('content3',{event:'mouseover',delay:200});
        t3.nowSel(2);
        $("#txtbox").html(t3.getCon());
        $(t3).on('beforeClick', function () {
            console.log('before:',t3.getCon());
        });
        $(t3).on('beforeClick', function () {
            console.log('before2222:',t3.getCon());
        });
        $(t3).on('afterClick', function () {
            console.log('after:',t3.getCon());
        });


    });

    function Tab(oParent,opt) {
        this.oParent=oParent;
        this.aInput=null;
        this.aSection=null;
        this.selIndex=0;
        this.settings={
            event:'click'
        } ;

        $.extend(this.settings,opt);
        this.init();
    }
    Tab.prototype.init= function () {
        this.oParent=$("#"+this.oParent);
        this.aInput=this.oParent.find('li');
        this.aSection=this.oParent.find('section');
        this.change();
    };

    Tab.prototype.change= function () {
        var that=this;
      this.aInput.on(this.settings.event, function () {
              $(that).trigger("beforeClick");
              that.aInput.eq(that.selIndex).removeClass("active");
              $(this).addClass("active");
              $(that.aSection).eq($(this).index()).show().siblings().hide();
              that.selIndex=$(this).index();
              $("#txtbox").html(that.getCon());
              $(that).trigger("afterClick");

      });
    };

    Tab.prototype.nowSel= function (n) {
        this.selIndex=$('li.active').index();
        this.aInput.eq(this.selIndex).removeClass("active");
        this.aInput.eq(n).addClass("active");
        this.selIndex=$('li.active').index();
        this.aSection.eq(n).show().siblings().hide();
    };
    // 获取content具体内容
    Tab.prototype.getCon= function () {
        return this.aSection.eq(this.selIndex).html();
    };




</script>

</body>
</html>