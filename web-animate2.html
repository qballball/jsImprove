
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	<meta name="format-detection" content="telephone=no" />
	<title>title</title>
	<link rel="stylesheet" href="css/global.css">
    <style>
        .box{     background-color: #ff000d; color: #fff; font-size: 30px;
            text-align: center;
            line-height: 100px; width: 100px; height: 100px;}
        #box1{ }
    </style>

</head>
<body>
    <h1>web animation</h1>
    <div class="box" id="box1">box1</div>
    <div class="box" id="box2">box2</div>


    <script>
        var box1=document.querySelector("#box1");
        var box2=document.querySelector("#box2");

        function anis(obj,keyframes,options) {
            return new Promise((res,rej)=>{
                var ani=obj.animate(keyframes,options,2000,'ease-in');
                ani.onfinish=function () {
                    console.log('finish');
                    res(['赫尔呵呵']);
                }
            })
        }
        anis(box1,[
            { transform: 'translateY(0px)' },{ transform: 'translateY(200px)',offset:0.9 },{ transform: 'translateY(300px)' }],
            {duration: 2000,  fill:'forwards'})
            .then((data)=>{
                console.log(data);
                anis(box2,[{opacity:0},{opacity:1}],{duration: 4000,fill:'forwards',delay:2000})
        });




    </script>
</body>
</html>
